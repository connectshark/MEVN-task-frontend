import{u as _,a as g,b as w,r as b,c as y,o as c,d as p,e,w as m,v as h,f as v,t as x,g as k}from"./index.30597a5a.js";const S=async({password:i,username:n})=>await(await fetch("https://mevn-todolist-backend.onrender.com"+"/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:i,username:n})})).json(),T={class:"w-5/6 mx-auto bg-white"},V=["onSubmit"],q=e("h2",{class:"text-2xl leading-loose mb-4"},"\u767B\u5165\u5E33\u6236",-1),B={class:"mb-5"},N=e("p",null,[e("label",{for:"username"},"\u586B\u5165\u4F7F\u7528\u8005\u540D\u7A31")],-1),U={class:"mb-5"},j=e("p",null,[e("label",{for:"psw"},"\u586B\u5165\u767B\u5165\u5BC6\u78BC")],-1),C=e("div",{class:"mb-5"},[e("input",{type:"submit",value:"\u767B\u5165",class:"bg-primary text-white py-3 w-full rounded-full cursor-pointer hover:opacity-80 transition"})],-1),D={key:0,class:"bg-red-200 p-3 rounded-full text-gray-700"},O={__name:"LoginView",setup(i){const n=_(),l=g(),u=w(),d=l.query.redirect||"/user",s=b({username:"",password:""}),r=y(""),f=async()=>{const t=await S({username:s.username,password:s.password});t.accessToken?(n.token=t.accessToken,u.push({path:d})):r.value=t.message};return(t,o)=>(c(),p("main",T,[e("form",{onSubmit:v(f,["prevent"])},[q,e("div",B,[N,e("p",null,[m(e("input",{id:"username",required:"","onUpdate:modelValue":o[0]||(o[0]=a=>s.username=a),type:"text",placeholder:"\u4F7F\u7528\u8005\u540D\u7A31",maxlength:"10",minlength:"1",class:"w-full border-none p-4 bg-gray-200 focus:ring-2 focus:ring-primary rounded-full text-sm"},null,512),[[h,s.username,void 0,{trim:!0}]])])]),e("div",U,[j,e("p",null,[m(e("input",{id:"psw",required:"","onUpdate:modelValue":o[1]||(o[1]=a=>s.password=a),type:"password",maxlength:"10",minlength:"4",placeholder:"\u4F7F\u7528\u8005\u5BC6\u78BC",class:"w-full border-none p-4 bg-gray-200 focus:ring-2 focus:ring-primary rounded-full text-sm"},null,512),[[h,s.password,void 0,{trim:!0}]])])]),C],40,V),r.value?(c(),p("p",D,x(r.value),1)):k("",!0)]))}};export{O as default};
